<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Open Gravitational Wave Explorer</title>
  <style>
    :root{
      --bg:#030313;
      --panel:#0b0b12;
      --accent:#00b4ff;
      --muted:#9aa1a8;
      --text:#e6e6e6;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      color:var(--text);
      background:radial-gradient(circle at center, #05051a 10%, #000 80%);
      -webkit-font-smoothing:antialiased;
    }
    .background-clock{
      position:fixed;inset:0;
      background:conic-gradient(from 0deg,#1e90ff,#8a2be2,#ff00ff,#1e90ff);
      opacity:0.06;
      z-index:0;
      animation:rotateClock 20s linear infinite;
    }
    @keyframes rotateClock{from{transform:rotate(0)}to{transform:rotate(360deg)}}
    .container{position:relative;z-index:1;max-width:980px;margin:18px auto;padding:14px}
    h1{margin:0 0 8px 0;font-size:1.25rem;color:var(--accent)}
    .panel{background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;margin-bottom:12px}
    .about p{margin:6px 0;color:var(--muted);font-size:0.95rem}
    .controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .controls select, .controls button{padding:8px 10px;border-radius:8px;border:none}
    .controls button{background:var(--accent);color:#000;font-weight:700;cursor:pointer}
    .plot{width:100%;height:380px;border-radius:8px;overflow:hidden;margin-top:8px}
    .smallprint{font-size:0.9rem;color:var(--muted);text-align:center;padding:6px}
    footer{margin-top:8px;padding:8px;text-align:center;color:var(--muted);font-size:0.9rem}
    .clock{margin-top:6px;font-weight:600}
    .credit{color:var(--muted);font-size:0.85rem;margin-top:8px}
  </style>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>

<body>
  <div class="background-clock" aria-hidden="true"></div>
  <div class="container">
    <h1>Open Gravitational Wave Explorer</h1>

    <section class="about panel">
      <h2>About</h2>
      <p>This interactive demo shows simplified, mock gravitational-wave signals for a few famous events detected by LIGO/Virgo. Each selection displays a time-domain waveform (a "chirp") and a corresponding instantaneous-frequency trace. The signals here are synthetic and meant for visualization and educational purposes.</p>
      <p class="credit">Created with the Open Gravitational Wave Explorer (v1.0)</p>
    </section>

    <div class="controls panel">
      <label for="eventSelect">Select event:</label>
      <select id="eventSelect" aria-label="Select event"></select>
      <button id="btnRefresh">Refresh</button>
    </div>

    <section class="panel">
      <div id="waveformPlot" class="plot" role="img" aria-label="Time-domain waveform"></div>
      <div id="frequencyPlot" class="plot" role="img" aria-label="Frequency chirp"></div>
    </section>

    <div class="panel smallprint">
      <p>Tip: pinch-zoom and drag the plots on mobile. The data are mock approximations for demonstration.</p>
    </div>
  </div>

  <footer>
    <div>BBH-Sim demo — Open Gravitational Wave Explorer © 2025</div>
    <div id="clock" class="clock">Live Clock</div>
  </footer>

  <script>
    const EVENTS = [
      {id:"GW150914", name:"GW150914 — Binary Black Hole (36+29 Msun)", amplitude:1.0, freqStart:30, freqEnd:250, duration:4.0, color:"#00ffff"},
      {id:"GW170817", name:"GW170817 — Binary Neutron Star (1.4+1.3 Msun)", amplitude:0.6, freqStart:20, freqEnd:400, duration:10.0, color:"#ff69b4"},
      {id:"GW190521", name:"GW190521 — Massive BBH (85+66 Msun)", amplitude:1.2, freqStart:20, freqEnd:100, duration:2.0, color:"#9b59b6"}
    ];

    function qsel(id){return document.getElementById(id);}
    function initUI(){
      const sel = qsel('eventSelect');
      EVENTS.forEach(ev=>{
        const o=document.createElement('option');
        o.value=ev.id; o.textContent=ev.name;
        sel.appendChild(o);
      });
      sel.addEventListener('change',()=>drawEvent(EVENTS.find(e=>e.id===sel.value)));
      qsel('btnRefresh').addEventListener('click',()=>drawEvent(EVENTS.find(e=>e.id===sel.value)));
      sel.value=EVENTS[0].id; drawEvent(EVENTS[0]); startClock();
    }

    function generateChirp(ev,samples=2000){
      const t=[],h=[],freq=[];
      for(let i=0;i<samples;i++){
        const tt=i/(samples-1)*ev.duration;
        const f=ev.freqStart+(ev.freqEnd-ev.freqStart)*Math.pow(tt/ev.duration,2);
        const A=ev.amplitude*Math.pow(tt/ev.duration,1.5)*Math.exp(-1.2*Math.max(0,tt-ev.duration*0.9));
        const phase=2*Math.PI*f*tt;
        t.push(tt); h.push(A*Math.sin(phase)); freq.push(f);
      }
      return {t,h,freq};
    }

    function drawEvent(ev){
      const data=generateChirp(ev);
      Plotly.react('waveformPlot',[{x:data.t,y:data.h,mode:'lines',name:'h(t)',line:{color:ev.color,width:2}}],
        {title:ev.name+' — Time-domain waveform (mock)',xaxis:{title:'Time [s]'},yaxis:{title:'Strain'},paper_bgcolor:'rgba(0,0,0,0)',plot_bgcolor:'rgba(0,0,0,0)',font:{color:'#e6e6e6'}},
        {responsive:true});
      Plotly.react('frequencyPlot',[{x:data.t,y:data.freq,mode:'lines',name:'Instantaneous frequency',line:{color:'#ffa500',width:2}}],
        {title:ev.name+' — Instantaneous frequency (mock)',xaxis:{title:'Time [s]'},yaxis:{title:'Frequency [Hz]'},paper_bgcolor:'rgba(0,0,0,0)',plot_bgcolor:'rgba(0,0,0,0)',font:{color:'#e6e6e6'}},
        {responsive:true});
    }

    function startClock(){
      const el=qsel('clock');
      function tick(){
        const now=new Date();
        el.textContent='Live Clock: '+now.toLocaleTimeString();
        const hue=(now.getSeconds()*6)%360;
        el.style.color=`hsl(${hue},80%,70%)`;
      }
      tick(); setInterval(tick,1000);
    }
    document.addEventListener('DOMContentLoaded',initUI);
  </script>
</body>
</html>
