<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Black Hole & Gravitational-Wave Simulator</title>
<style>
  body {
    margin: 0;
    background: radial-gradient(circle at 50% 50%, #0b0014 0%, #030008 90%);
    color: #fff;
    font-family: "Inter", sans-serif;
    overflow: hidden;
  }
  #tabs {
    display: flex;
    justify-content: center;
    background: rgba(20, 0, 40, 0.8);
    padding: 0.5rem;
  }
  button.tab {
    background: #2a0048;
    color: #ccc;
    border: none;
    border-radius: 1rem;
    padding: 0.5rem 1rem;
    margin: 0 0.3rem;
    cursor: pointer;
    transition: all 0.3s;
  }
  button.tab.active {
    background: #6a00b8;
    color: #fff;
  }
  .panel { display: none; text-align: center; padding: 1rem; }
  .panel.active { display: block; }
  #overviewCanvas {
    background: transparent;
    display: block;
    margin: 0 auto;
  }
  .controls {
    text-align: center;
    margin-top: 1rem;
  }
  input[type="range"] {
    width: 300px;
  }
</style>
</head>
<body>
<div id="tabs">
  <button class="tab active" onclick="openTab('overview')">Overview</button>
  <button class="tab" onclick="openTab('events')">Events</button>
</div>

<div id="overview" class="panel active">
  <canvas id="overviewCanvas" width="800" height="600"></canvas>
  <div class="controls">
    <label>Hotspot Speed: <input type="range" id="speedSlider" min="0.5" max="5" step="0.1" value="1"></label>
  </div>
</div>

<div id="events" class="panel">
  <h2>Event Selection (coming from your latest set)</h2>
  <p>All confirmed LIGO/Virgo/KAGRA events and visualizations load here.</p>
</div>

<script>
let canvas = document.getElementById('overviewCanvas');
let ctx = canvas.getContext('2d');
let t = 0, speed = 1;

function openTab(id) {
  document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(b => b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  event.target.classList.add('active');
}

document.getElementById('speedSlider').addEventListener('input', e => {
  speed = parseFloat(e.target.value);
});

function drawOverview() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  let cx = canvas.width / 2, cy = canvas.height / 2;

  // Background stars
  for (let i = 0; i < 60; i++) {
    let x = Math.random() * canvas.width;
    let y = Math.random() * canvas.height;
    ctx.fillStyle = "rgba(200, 220, 255, 0.2)";
    ctx.fillRect(x, y, 1, 1);
  }

  // Black hole (deep violet gradient)
  let bhRadius = 80 + (speed - 1) * 3;
  let grad = ctx.createRadialGradient(cx, cy, 0, cx, cy, bhRadius);
  grad.addColorStop(0, '#3a0066');
  grad.addColorStop(0.6, '#1a0026');
  grad.addColorStop(1, '#000');
  ctx.beginPath();
  ctx.arc(cx, cy, bhRadius, 0, Math.PI * 2);
  ctx.fillStyle = grad;
  ctx.fill();

  // Accretion glow ring
  ctx.beginPath();
  ctx.arc(cx, cy, bhRadius + 25, 0, Math.PI * 2);
  ctx.strokeStyle = 'rgba(180, 100, 255, 0.25)';
  ctx.lineWidth = 6;
  ctx.shadowBlur = 10;
  ctx.shadowColor = '#b060ff';
  ctx.stroke();
  ctx.shadowBlur = 0;

  // Hotspot
  let orbitR = bhRadius + 25;
  let angle = t * 0.02 * speed;
  let x = cx + Math.cos(angle) * orbitR;
  let y = cy + Math.sin(angle) * orbitR;
  let brightness = 0.6 + 0.4 * Math.cos(angle * 2);
  ctx.beginPath();
  ctx.arc(x, y, 6, 0, Math.PI * 2);
  ctx.fillStyle = `rgba(255, ${120 + 80 * brightness}, ${200 * brightness}, 1)`;
  ctx.shadowBlur = 20;
  ctx.shadowColor = `rgba(255, 160, 255, ${brightness})`;
  ctx.fill();
  ctx.shadowBlur = 0;

  t++;
  requestAnimationFrame(drawOverview);
}
drawOverview();
</script>
</body>
</html>
