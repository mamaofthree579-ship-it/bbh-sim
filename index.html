<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sagittarius A* Overview</title>
<style>
  body { margin:0; font-family:Arial, sans-serif; background:#05000a; color:#e5ccff; overflow-x:hidden; }
  .tabs { display:flex; background:#1a001f; border-bottom:2px solid #33003d; }
  .tabButton { flex:1; padding:12px; cursor:pointer; background:#22002b; border:none; color:#e5ccff; font-weight:bold; transition:0.3s; }
  .tabButton:hover { background:#33003d; }
  .tabButton.active { background:#550066; color:white; }
  .tabContent { display:none; padding:20px; }

  canvas { border:1px solid #33003d; border-radius:8px; display:block; margin:15px auto;
           background:radial-gradient(circle at center, #14001a 0%, #05000a 100%); }

  label { color:#caaaff; font-size:0.9em; }
  input[type="range"] { width:200px; }
  h2, h3 { color:#e5ccff; }
  #overviewControls { text-align:center; margin-top:10px; background:rgba(20,0,40,0.5); padding:10px; border-radius:8px; }
  #labels { text-align:center; font-size:0.9em; color:#d0b8ff; }
</style>
</head>
<body>

<!-- Tabs -->
<div class="tabs">
  <button class="tabButton active" data-tab="overviewTab">Overview</button>
  <button class="tabButton" data-tab="eventsTab">Events</button>
</div>

<!-- Overview Tab -->
<div id="overviewTab" class="tabContent" style="display:block;">
  <h2>üåå Sagittarius A* Overview</h2>
  <p>Observe Sagittarius A*, the supermassive black hole at our galaxy's center, with a rotating hotspot and luminous accretion disk.</p>
  <canvas id="bhCanvas" width="800" height="400"></canvas>

  <div id="overviewControls">
    <label>Motion Speed:</label>
    <input id="speedSlider" type="range" min="0.01" max="0.1" step="0.005" value="0.03">
  </div>

  <div id="labels">
    <p><strong>Labels:</strong>  
      üï≥Ô∏è Black Hole | ‚òÄÔ∏è Accretion Disk | üî• Hotspot | ‚ú® Stars
    </p>
  </div>
</div>

<!-- Events Tab (placeholder for next step) -->
<div id="eventsTab" class="tabContent">
  <h2>üí´ Events Simulator</h2>
  <p>Coming next ‚Äî full restoration of event visuals, chirp audio, and summary tables.</p>
</div>

<script>
// --- Tab Switching ---
const tabButtons = document.querySelectorAll('.tabButton');
const tabContents = document.querySelectorAll('.tabContent');
tabButtons.forEach(btn => {
  btn.addEventListener('click', () => {
    tabButtons.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    tabContents.forEach(tc => tc.style.display = 'none');
    document.getElementById(btn.dataset.tab).style.display = 'block';
  });
});

// --- Overview Animation ---
const bhCanvas = document.getElementById('bhCanvas');
const bhCtx = bhCanvas.getContext('2d');
const stars = Array.from({length:150}, () => ({
  x: Math.random() * bhCanvas.width,
  y: Math.random() * bhCanvas.height,
  r: Math.random() * 1.2,
  tw: Math.random() * 2 * Math.PI
}));

let bhAngle = 0;
let speed = parseFloat(document.getElementById('speedSlider').value);

function drawBH() {
  bhCtx.clearRect(0, 0, bhCanvas.width, bhCanvas.height);
  const cx = bhCanvas.width / 2, cy = bhCanvas.height / 2, rBH = 70;

  // Draw twinkling stars (masked outside BH)
  stars.forEach(s => {
    s.tw += 0.05;
    const b = 0.6 + 0.4 * Math.sin(s.tw);
    if (Math.hypot(s.x - cx, s.y - cy) > rBH + 20) {
      bhCtx.beginPath();
      bhCtx.arc(s.x, s.y, s.r, 0, 2 * Math.PI);
      bhCtx.fillStyle = `rgba(255,255,255,${b})`;
      bhCtx.fill();
    }
  });

  // Background gradient
  const grad = bhCtx.createRadialGradient(cx, cy, 10, cx, cy, 200);
  grad.addColorStop(0, '#000');
  grad.addColorStop(1, '#220033');
  bhCtx.fillStyle = grad;
  bhCtx.fillRect(0, 0, bhCanvas.width, bhCanvas.height);

  // Black hole core
  bhCtx.beginPath();
  bhCtx.arc(cx, cy, rBH, 0, 2 * Math.PI);
  bhCtx.fillStyle = 'black';
  bhCtx.fill();

  // Accretion disk glow
  const ringGrad = bhCtx.createRadialGradient(cx, cy, rBH, cx, cy, rBH + 60);
  ringGrad.addColorStop(0, 'rgba(255,200,100,0.25)');
  ringGrad.addColorStop(1, 'rgba(255,150,0,0.05)');
  bhCtx.beginPath();
  bhCtx.arc(cx, cy, rBH + 30, 0, 2 * Math.PI);
  bhCtx.strokeStyle = 'rgba(255,180,60,0.5)';
  bhCtx.lineWidth = 2;
  bhCtx.stroke();

  // Hotspot orbit
  const x = cx + Math.cos(bhAngle) * 100;
  const y = cy + Math.sin(bhAngle) * 40;
  bhCtx.beginPath();
  bhCtx.arc(x, y, 6, 0, 2 * Math.PI);
  bhCtx.fillStyle = '#ffcc99';
  bhCtx.fill();

  // Trail (smaller and subtle)
  for (let i = 1; i < 15; i++) {
    const trailX = cx + Math.cos(bhAngle - i * 0.1) * 100;
    const trailY = cy + Math.sin(bhAngle - i * 0.1) * 40;
    bhCtx.beginPath();
    bhCtx.arc(trailX, trailY, 2, 0, 2 * Math.PI);
    bhCtx.fillStyle = `rgba(255,200,150,${0.15 - i * 0.01})`;
    bhCtx.fill();
  }

  bhAngle += speed;
  requestAnimationFrame(drawBH);
}

document.getElementById('speedSlider').addEventListener('input', e => {
  speed = parseFloat(e.target.value);
});

drawBH();
</script>
</body>
</html>
